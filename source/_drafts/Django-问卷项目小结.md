---
title: Django_问卷项目小结
date: 2018-01-13 10:50:01
tags:
Django
python
categories:
编程
---

前几天闲了一些，遂阅读了Django中文文档的新手部分，发现实在很有意思，于是照猫画虎在自己的云服务器上搭了一个简易轻巧的web应用。这个应用是一套测试题，使用气质类型测试的60道题，在做完之后返回给你测试结果。当然，在返回结果的同时，后台也会将本次的session结果记录存份，以备用处。

## 项目目标

做这个小项目是为什么呢？一者是满足自己的小愿望，笔者一直很喜欢这套测试题，但苦于计算繁琐————这套题目为了防止人形成选择惯性，每种气质15题，呈不规则分布，如果用纸笔计算，就要在纸上圈出不同类别的题目，再挨个计算，很是眼花缭乱。有web项目后，就可以在线测试啦。二者是自己也有一点小想法，自己花了两三天的时间学了一下Django，但以后恐怕也不是做web开发的，还是数据分析更适合我一些。所以我打算整理好这个项目后推送出去，收集个大约一两万份完整问卷。然后根据数据采样对问卷进行优化，终极目标是推出一个推测功能，比如根据算法精简出十道题，这十道题答完就可以推测出你大概的气质分布，然后返回答案，这样的话就可以精简问卷。

## 前期准备

### 云服务器

笔者蹭了一波腾讯云服务器的福利，单核1GB1Mbps的服务器，每月10元，对于我这种萌新最为适合。

![](base_1.png)

关于怎样登陆云服务器，这里有两个方法，一个是从控制台直接进入，如下图所示

![](base_2.png)

![](base_3.png)

![](base_4.png)

但这样其实有很多不方便的地方，一是腾讯的控制台不支持完整的linux命令，甚至连Tab补全都没有，并且在vim编辑器中不能代码高亮，又况且每次使用都需要登录控制台，实在是太不方便，因此笔者推荐用专门的远程客户端来连接服务器。笔者这里使用的是putty。

>PuTTY是一套Windows平台上的免费SSH/Telnet程序，它可以连接上支持SSH Telnet联机的站台，并且可自动取得对方的系统指纹码(Fingerprint)。建立联机以后，所有的通讯内容都是以加密的方式传输。该软件由
Simon Tatham开发并维护。

[putty最新发行版本地址](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html)

在安装完毕并双击程序后，在相应端口输入服务器公网IP，点击OPEN即可连接远程界面。

![](base_5.png)

上图可以看到，putty的默认连接方式是SSH，端口号为22，这也是通行的SSH连接端口号。

>提示：在使用putty进行一段时间工作后你也许会发现，假使一段时间没有在控制页面进行操作(约摸五分钟左右)，putty会自动断线并在顶部显示inactive的字样，这是服务器为了防止session占用过多资源，一旦一段时间没有收到数据则会自动断线，为了防止上述情况，可以在连接前在connection选项中填入，如下图

![](base_6.png)

该选项使putty每10s向服务器发送一个空包，以保持连接的active状态。

putty的命令行页面、vim页面如下所示

![](base_7.png)

![](base_8.png)

### Linux基本操作知识

在这一块上，事实上是开发容易维护难，要说在Linux上写出来一个mini的web项目，你所需要知道的Linux命令其实可以非常少，以下列出一个基本的知识清单，笔者这个小项目也是大部分就靠这些来完成，随缺随补。

- Linux系统目录基本分布
- 基本命令及参数
    - cd
    - cp
    - mv
    - rm
    - rmdir
    - mkdir
- vim基本操作
    - 编辑模式(按`a`进入，直接对文档内容进行修改)
    - 自由选取模式(按`v`进入，此时vim自动以当前光标所在位置作为一个端点进行定位，用户可以自由选择文本内容，按下`y`表示yank，提取所选取的文本内容，即是复制，按下`d`表示剪切，再按`esc`返回命令行模式，按下`p`表示paste，在光标所在处粘贴选取的内容)
- 查看、管理当前进程列表(如有时Django的runserver占用了8000端口，则无法运行成功，就需要先kill掉占用了8000端口的进程方可。)
- git的基本使用(在项目开发时，有部分代码及前端页面是在本机写好，此时可以通过git提交到服务器上，再配上钩子实现代码实时同步。)

>在这里再稍稍感叹一下，其实Linux相关的命令、Django的配置参数与函数浩如烟海，我们写一个目的性很强的项目，不可能看完文档再写，然则遇到便查，通过就忘更是不可取的，前者对工作的效率太差，后者对个人的发展太差，一个人最理想的状态是，带着任务去学习，任务完成了，知识也系统化地学到手。这也是笔者写博客的原因，互联网上独缺这一份教程，写博客的目的是养成系统梳理学过的知识的能力，通过这种新颖的“复习”方式加深记忆，巩固知识，将更多的参数记录下来备查，才是写博客的目的。

### python与SQL基础知识

这一块的内容，其实可多可少，就以一个简易的Django项目而言，你需要掌握的基础知识可以非常少，无非是几种容器的操作(list、dictionary、set)，对类、函数、对象的基本概念(甚至不需要你会写类，Django已经封装了许多常用的类与接口，你只需要阅读一下文档然后调用即可)还有与数据库的基本连接操作，如pymysql。如果你阅读到这篇文档准备着手试一试，笔者推荐如下学习路径：

*说明：千人千面，不敢言确，以下参考资料只是笔者认为有助于新手快速理解、掌握相关技能*

1. Python3入门  [廖雪峰Python教程](https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000)
2. [Mysql快速学习入门](http://www.yiibai.com/mysql/mysql_quick_start.html)
3. [pymysql文档](http://pymysql.readthedocs.io/en/latest/index.html)

在可以熟练使用python与MySQL的交互之后，再移植到Linux上即会如鱼得水。在前期学习的过程中，可以安装一个`navicat`这个MySQL的可视化管理界面辅助学习。一般当自己生活中遇到的项目较小时，直接使用navicat对MySQL进行操作也是很便利的。

## 项目介绍

在这里，重点推荐 [Django中文文档]()